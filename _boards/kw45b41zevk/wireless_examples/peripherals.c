/*
 * Copyright 2023 NXP
 * All rights reserved.
 *
 * SPDX-License-Identifier: BSD-3-Clause
 */

/***********************************************************************************************************************
 * This file was generated by the MCUXpresso Config Tools. Any manual edits made to this file
 * will be overwritten if the respective MCUXpresso Config Tools is used to update this file.
 **********************************************************************************************************************/

/* clang-format off */
/* TEXT BELOW IS USED AS SETTING FOR TOOLS *************************************
!!GlobalInfo
product: Peripherals v11.0
processor: KW45B41Z83xxxA
package_id: KW45B41Z83AFTA
mcu_data: ksdk2_0
processor_version: 0.12.3
board: KW45B41Z-EVK
functionalGroups:
- name: BOARD_InitPeripherals
  UUID: b82e970b-aefd-4c28-bb14-af73e85818df
  called_from_default_init: true
  selectedCore: cm33
 * BE CAREFUL MODIFYING THIS COMMENT - IT IS YAML SETTINGS FOR TOOLS **********/

/* TEXT BELOW IS USED AS SETTING FOR TOOLS *************************************
component:
- type: 'system'
- type_id: 'system_54b53072540eeeb8f8e9343e71f28176'
- global_system_definitions:
  - user_definitions: ''
  - user_includes: ''
 * BE CAREFUL MODIFYING THIS COMMENT - IT IS YAML SETTINGS FOR TOOLS **********/

/* TEXT BELOW IS USED AS SETTING FOR TOOLS *************************************
component:
- type: 'uart_cmsis_common'
- type_id: 'uart_cmsis_common_9cb8e302497aa696fdbb5a4fd622c2a8'
- global_USART_CMSIS_common:
  - quick_selection: 'default'
 * BE CAREFUL MODIFYING THIS COMMENT - IT IS YAML SETTINGS FOR TOOLS **********/

/* TEXT BELOW IS USED AS SETTING FOR TOOLS *************************************
component:
- type: 'gpio_adapter_common'
- type_id: 'gpio_adapter_common_57579b9ac814fe26bf95df0a384c36b6'
- global_gpio_adapter_common:
  - quick_selection: 'default'
 * BE CAREFUL MODIFYING THIS COMMENT - IT IS YAML SETTINGS FOR TOOLS **********/
/* clang-format on */

/***********************************************************************************************************************
 * Included files
 **********************************************************************************************************************/
#include "peripherals.h"

/***********************************************************************************************************************
 * BOARD_InitPeripherals functional group
 **********************************************************************************************************************/
/***********************************************************************************************************************
 * LittleFS initialization code
 **********************************************************************************************************************/

static uint32_t littlefs_read_buf[LITTLEFS_CACHE_SIZE / 4];
static uint32_t littlefs_prog_buf[LITTLEFS_CACHE_SIZE / 4];
static uint32_t littlefs_lookahead_buf[LITTLEFS_LOOKAHEAD_SIZE / 4];

const struct lfs_config LittleFS_config = {
    .context = (void *)&LittleFS_ctx,
    .read    = lfs_mflash_read,
    .prog    = lfs_mflash_prog,
    .erase   = lfs_mflash_erase,
    .sync    = lfs_mflash_sync,
#ifdef LFS_THREADSAFE
    .lock   = lfs_mutex_lock,
    .unlock = lfs_mutex_unlock,
#endif
    .read_size      = LITTLEFS_READ_SIZE,
    .prog_size      = LITTLEFS_PROG_SIZE,
    .block_size     = LITTLEFS_BLOCK_SIZE,
    .block_count    = LITTLEFS_BLOCK_COUNT,
    .block_cycles   = LITTLEFS_BLOCK_CYCLES,
    .cache_size     = LITTLEFS_CACHE_SIZE,
    .lookahead_size = LITTLEFS_LOOKAHEAD_SIZE,
    // statically allocate read buffer. Must be cache_size.
    .read_buffer = littlefs_read_buf,
    // statically allocate program buffer. Must be cache_size.
    .prog_buffer = littlefs_prog_buf,
    // Optional statically allocated lookahead buffer. Must be lookahead_size
    // and aligned to a 32-bit boundary.
    .lookahead_buffer = littlefs_lookahead_buf,
};

/* Empty initialization function (commented out)
static void LittleFS_init(void) {
} */

/***********************************************************************************************************************
 * Initialization functions
 **********************************************************************************************************************/
void BOARD_InitPeripherals(void)
{
    /* Initialize components */
}

/***********************************************************************************************************************
 * BOARD_InitBootPeripherals function
 **********************************************************************************************************************/
void BOARD_InitBootPeripherals(void)
{
    BOARD_InitPeripherals();
}
